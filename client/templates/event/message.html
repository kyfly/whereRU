<header>
  <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo center" ng-bind="contest.name"></a>
      <ul id="nav-mobile" class="left">
        <li>
          <i ng-click="goback()" class="material-icons">chevron_left</i>
        </li>
      </ul>
    </div>

  </nav>
  <div class="top-bar"></div>
</header>

<div>
  <ul class="etuan_timeline">
    <li ng-repeat="message in contest.messages">
      <div class="tip">
        <b ng-bind="contest.messages.length - $index"></b>
      </div>
      <div class="time">
        <span>2015/10/12</span>
      </div>
      <div class="content card">
        <div class="card-content">
          <p ng-bind="message.content"></p>
        </div>
        <div ng-show="message.active" class="card-content">
          <ul>
            <form ng-init="form[message.active.id] = {}">
              <li ng-repeat="item in message.active.actItem">
                <div ng-show="item.type !== 'file'" class="input-field col s12">
                  <input 
                      type="text" class="validate" 
                      id="form[message.active.id][$index]" 
                      ng-model="form[message.active.id][$index]" required>
                  <label for="form[message.active.id][$index]" ng-bind="item.name"></label>
                </div>
                <div ng-show="item.type === 'file'" class="file-field input-field">
                  <div class="btn">
                    <span>{{item.name}}</span>
                    <input
                        type="file"
                        id="{{message.active.id + '_' + $index}}" required>
                  </div>
                  <div class="file-path-wrapper">
                    <input
                        ng-model="c"
                        ng-change="upLoad()"
                        class="file-path validate" type="text">
                  </div>
                </div>
              </li>
              <button 
              type="submit" 
              ng-disabled="form[message.active.id]['disabled']"
              ng-click="submit()" 
              class="waves-effect waves-light btn">OK</button>
            </form>
          </ul>
        </div>
        <div class="card-action" style="text-align: right">
          <h6 ng-bind="message.loader"></h6>
        </div>
      </div>
    </li>
  </ul>
</div>


<footer>
  <div class="fragment col s12">
    <ul class="tabs">
      <li class="tab col s4">
        <a ng-href="/events/{{eventId}}/messages">
          <b class="tab-active">竞赛通知</b>
        </a>
      </li>
      <li class="tab col s4">
        <a ng-href="/events/{{eventId}}/teams">
          竞赛团队
        </a>
      </li>
      <li class="tab col s4">
        <a ng-href="/events/{{eventId}}/explains">
          竞赛介绍
        </a>
      </li>
    </ul>
  </div>
</footer>