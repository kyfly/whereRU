<div class="row center filter-bar">
  <ul>
    <li class="col s3">
      <a class="dropdown-button" href="" 
        dropdown data-hover="true"
        ng-click="search=false"
        ng-mouseover="search=false"
        data-activates="dropDown">校园竞赛
        <i class="mdi-navigation-arrow-drop-down"></i>
      </a>
      <ul id='dropDown' class='dropdown-content'>
        <li><a href="/w/teams">校园团队</a></li>
        <li><a href="/w/activities">校园活动</a></li>
      </ul>
    </li>
    <li class="col s9 race-search">
      <div input-field>
        <input type="text" ng-model="filterTitle" ng-change="titleFilter()" placeholder="请在此输入关键字">
      </div>
    </li>
  </ul>
  
</div>

<div class="row menu">
  <div class="col s4 m4 l2 item active waves-effect hide-on-med-and-down">
    <a class="active" href=""></a>
  </div>
  <div class="col s4 m4 l2 item waves-effect">
    <a href="/w/activities">校园活动</a>
  </div>
  <div class="col s4 m4 l2 item waves-effect active">
    <a class="active" href="/w/races">校园竞赛</a>
  </div>
  <div class="col s4 m4 l2 item waves-effect">
    <a href="/w/teams">校园团队</a>
  </div>
</div>

<div ng-if="search" style="height:75px"></div>
<!--校园竞赛列表-->
<div class="row container">
  <ul>
    <li class="col s12 m6 l3 card-list"  ng-repeat="raceItem in raceItems | filter: query">
      <div class="card">
        <div class="card-content">
          <h4 class="card-title">
            <a href="/w/races/{{raceItem.id}}" ng-bind="raceItem.name"></a>
          </h4>
          <h6>
            <a ng-href="/w/teams/{{raceItem.teamId}}">
              <b ng-bind="raceItem.authorName"></b>
            </a>
            <time ng-bind="raceItem.created | date : 'yyyy-MM-dd'"></time>
          </h6>
        </div>
        <div class="card-image">
          <a href="/w/races/{{raceItem.id}}"> 
            <img ng-src="{{raceItem.imgUrl}}@1e_1c_0o_0l_200h_360w_90q.src" err-src="http://img.etuan.org/default.png@1e_1c_0o_0l_200h_360w_90q.src">
          </a>
        </div>
        <div class="card-action">
          <h6>
            <span>报名时间:</span>
            <time class="red-text" ng-bind="raceItem.created| date:'yy/MM/dd'"></time>
            <span>-</span>
            <time class="red-text" ng-bind="raceItem.ended| date:'yy/MM/dd'"></time>
          </h6>
        </div>
      </div>
    </li>
  </ul>
</div>
<div ng-show="raceItems.length >= 16" class="col s12 center list-more">
  <a ng-show="$currentUser && !last" href="" ng-click="getRaces()">加载更多</a>
  <a ng-show="last" href="" >没有更多竞赛了</a>
  <a ng-show="!$currentUser" href="" ng-click="getRaces()">登录</a>
</div>